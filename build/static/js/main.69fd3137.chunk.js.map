{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Phonebook.js","components/Notification.jsx","services/phonebookService.js","App.js","index.js"],"names":["Filter","filterBy","handleFilter","htmlFor","id","type","value","onChange","PersonForm","handleSubmit","newName","newNumber","handleNewName","handleNewNumber","onSubmit","Phonebook","filteredPeople","deletePerson","map","person","name","number","onClick","Notification","message","className","BASE_URL","phoneService","getPeople","axios","get","then","res","data","delete","addPerson","personObject","post","updatePerson","updatedPerson","put","App","useState","persons","setPersons","setNewName","setNewNumber","setFilterBy","notification","setNotification","useEffect","currentNumbers","filter","toLowerCase","startsWith","e","target","preventDefault","exists","find","window","confirm","concat","setTimeout","catch","err","console","error","newPerson","personToDelete","deletedPerson","updatedPhonebook","log","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.69fd3137.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ filterBy, handleFilter }) => {\r\n    return (\r\n      <label htmlFor=\"filter\">\r\n        Filter shown with:\r\n        <input\r\n          id=\"filter\"\r\n          type=\"text\"\r\n          value={filterBy}\r\n          onChange={handleFilter}\r\n        />\r\n      </label>\r\n    );\r\n}\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nconst PersonForm = ({ handleSubmit, newName, newNumber, handleNewName, handleNewNumber }) => {\r\n    return (\r\n      <form onSubmit={handleSubmit}>\r\n        <div>\r\n          name:{\" \"}\r\n          <input value={newName} onChange={handleNewName} />\r\n        </div>\r\n        <div>\r\n          number:{\" \"}\r\n          <input\r\n            value={newNumber}\r\n            onChange={handleNewNumber}\r\n          />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    );\r\n}\r\n\r\nexport default PersonForm\r\n","import React from \"react\";\r\n\r\nconst Phonebook = ({ filteredPeople, deletePerson }) => {\r\n  return (\r\n    <div>\r\n      {filteredPeople.map((person) => {\r\n        return (\r\n          <li key={person.name}>\r\n            {person.name} {person.number}\r\n            <button type=\"button\" onClick={() => deletePerson(person.id)}>\r\n              delete\r\n            </button>\r\n          </li>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Phonebook;\r\n","import React from 'react';\r\nimport './Notification.css';\r\n\r\nconst Notification = ({ message, type }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <p className={`msg msg-${type}`}>\r\n            {message}\r\n        </p>\r\n    )\r\n}\r\n\r\nexport default Notification\r\n","import axios from \"axios\";\r\n\r\nconst BASE_URL = '/api/persons';\r\n\r\nconst getPeople = () => axios.get(BASE_URL).then(res => res.data)\r\nconst addPerson = (personObject) => axios.post(BASE_URL, personObject).then(res => res.data);\r\nconst deletePerson = (id) => axios.delete(`${BASE_URL}/${id}`).then(res => res.data);\r\nconst updatePerson = (id, updatedPerson) => axios.put(`${BASE_URL}/${id}`, updatedPerson).then(res => res.data);\r\n\r\nconst phoneService = {\r\n    getPeople,\r\n    deletePerson,\r\n    addPerson,\r\n    updatePerson,\r\n};\r\n\r\nexport default phoneService;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Filter from \"./components/Filter\";\r\nimport PersonForm from \"./components/PersonForm\";\r\nimport Phonebook from \"./components/Phonebook\";\r\nimport Notification from \"./components/Notification\";\r\nimport phoneService from \"./services/phonebookService\";\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const [filterBy, setFilterBy] = useState(\"\");\r\n  const [notification, setNotification] = useState({ message: null, type: '' })\r\n\r\n  useEffect(() => {\r\n    phoneService.getPeople().then((currentNumbers) => {\r\n      setPersons(currentNumbers);\r\n    });\r\n  }, []);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const exists = persons.find((person) => person.name === newName);\r\n    if (exists) {\r\n      const update = window.confirm(`${exists.name} is already added to phonebook. Update person's number?`);\r\n      if (update) {\r\n        phoneService\r\n          .updatePerson(exists.id, { ...exists, number: newNumber })\r\n          .then((updatedPerson) => {\r\n            setPersons(persons.filter(person => person !== exists).concat(updatedPerson));\r\n            setNewName('');\r\n            setNewNumber('');\r\n            setNotification({ message: 'Person successfully updated.', type: 'success' });\r\n            setTimeout(() => {\r\n              setNotification({ message: null, type: '' });\r\n            }, 3000);\r\n          })\r\n          .catch((err) => {\r\n            console.error(`Error updating person.\\n${err}`);\r\n            setNotification({ message: 'Error updating person. Person not in database.', type: 'error' });\r\n            setTimeout(() => {\r\n              setNotification({ message: null, type: '' });\r\n            }, 3000);\r\n          });\r\n      }\r\n    } else {\r\n      const newPerson = { name: newName, number: newNumber };\r\n      phoneService\r\n        .addPerson(newPerson)\r\n        .then((newPerson) => {\r\n          setPersons(persons.concat(newPerson));\r\n          setNewName('');\r\n          setNewNumber('');\r\n          setNotification({ message: 'Person successfully added.', type: 'success' });\r\n          setTimeout(() => {\r\n            setNotification({ message: null, type: '' });\r\n          }, 3000);\r\n        })\r\n        .catch((err) => console.error(`Error adding person.\\n${err}`));\r\n    }\r\n  };\r\n\r\n  const handleDeletePerson = (id) => {\r\n    const personToDelete = persons.find((person) => person.id === id);\r\n    const shouldDelete = window.confirm(`Delete ${personToDelete.name}?`);\r\n    if (shouldDelete) {\r\n      phoneService.deletePerson(id).then((deletedPerson) => {\r\n        const updatedPhonebook = persons.filter((person) => person.id !== id);\r\n        setPersons(updatedPhonebook);\r\n        setNotification({ message: 'Person successfully deleted.', type: 'success' });\r\n        setTimeout(() => {\r\n          setNotification({ message: null, type: '' });\r\n        }, 3000);\r\n      }).catch((err) => {\r\n        console.log(`Error deleting person.\\n${err}`);\r\n        setPersons(persons.filter((person) => person.id !== personToDelete.id ));\r\n        setNotification({ message: 'Person already removed from database. Refreshing list.', type: 'error' });\r\n        setTimeout(() => {\r\n          setNotification({ message: null, type: '' });\r\n        }, 5000);\r\n      });\r\n    }\r\n  };\r\n\r\n  const filteredPeople =\r\n    filterBy !== \"\"\r\n      ? persons.filter((person) =>\r\n          person.name.toLowerCase().startsWith(filterBy.toLowerCase())\r\n        )\r\n      : persons;\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={notification.message} type={notification.type} />\r\n      <Filter\r\n        filterBy={filterBy}\r\n        handleFilter={(e) => setFilterBy(e.target.value)}\r\n      />\r\n      <h3>Add a new:</h3>\r\n      <PersonForm\r\n        newName={newName}\r\n        newNumber={newNumber}\r\n        handleNewName={(e) => setNewName(e.target.value)}\r\n        handleNewNumber={(e) => setNewNumber(e.target.value)}\r\n        handleSubmit={handleSubmit}\r\n      />\r\n      <h3>Numbers</h3>\r\n      <Phonebook\r\n        filteredPeople={filteredPeople}\r\n        deletePerson={handleDeletePerson}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}